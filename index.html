
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>just some lazy admins</title>
	<meta name="author" content="Thang Pham">

	
	<meta name="description" content="Khi sử dụng Python để code 1 vài tool hay script với Mysql,tornado&hellip;. mình hay gặp lỗi &ldquo;Dealing with OperationalError 2006, &lsquo;MySQL &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="just some lazy admins" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script async="true" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>


<body>
	<header id="header" class="inner"><h1><a href="/">just some lazy admins</a></h1>
<nav id="main-nav"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:lazyadmin.me">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		
		<a class="twitter" href="http://twitter.com/thangola" title="Twitter">Twitter</a>
		
		
    
		
		
		
		
		<a class="delicious" href="http://delicious.com/thangola" title="Delicious">Delicious</a>
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
    
	</div>
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:lazyadmin.me">
	</form>
</nav>

</header>
	
		
	
	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/08/12/python-quan-ly-ket-noi-mysql/">
		
			Python: quản lý kết nối MySQL</a>
	</h2>
	<div class="entry-content">
		<p>Khi sử dụng Python để code 1 vài tool hay script với Mysql,tornado&hellip;. mình hay gặp lỗi &ldquo;Dealing with OperationalError 2006, &lsquo;MySQL server has gone away&rdquo;. Cái này do kết nối giữa mysql
và python bị timeout, lúc gọi lại hàm thì nó chưa được reconnect.Dưới đây là đoạn code đơn giản để bạn &ldquo;&#8221;avoid&rdquo; chuyện đấy:</p>

<pre><code>
import MySQLdb

class DB:
  conn = None

  def connect(self):
    self.conn = MySQLdb.connect()

  def query(self, sql):
    try:
      cursor = self.conn.cursor()
      cursor.execute(sql)
    except (AttributeError, MySQLdb.OperationalError):
      self.connect()
      cursor = self.conn.cursor()
      cursor.execute(sql)
    return cursor

db = DB()
sql = "SELECT * FROM foo"
cur = db.query(sql)
# wait a long time for the Mysql connection to timeout
cur = db.query(sql)
# still works

</code></pre>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-08-12T14:08:37+07:00" pubdate data-updated="true">Aug 12<span>th</span>, 2014</time></div>
	<div class="tags">

</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/08/12/single-mode-trong-grub-ubuntu-12-dot-04/">
		
			single mode trong grub2 ubuntu 12.04 & 14.04</a>
	</h2>
	<div class="entry-content">
		<p>Nếu bạn lâu ngày không vào server ubuntu mà quên mất password root, đừng lo, đã có single mode :))
Sau đây là các bước để vào single mode trong ubuntu 12.04 ( 14.04 cũng được nà )</p>

<br>


<p>Bước 1: Lúc bật máy lên bạn giữ phím shift  để vào màn hình grub2 load  <br />
Bước 2: Chọn phiên bản kernel  <br />
Bước 3: Nhấn e để edit các tham số trong grub2  <br />
Bước 4: Chuyển con trỏ xuống cuối dòng bắt đầu bằng <strong>linux /boot/vmlinuz&hellip;&hellip;</strong>   <br />
Bước 5: Thay các từ như <strong>[&lsquo;ro&rsquo;, &lsquo;quiet&rsquo;, &lsquo;spalsh&rsquo;]</strong> bằng cụm sau <strong>rw init=/bin/bash</strong>  <br />
Bước 6: Nhấn Ctrl + x để boot với chế độ single mode  <br />
Bước 7: thích làm gì thì làm.hihi :&ndash;)  <br />
Bước 8: sync &amp; reboot <br /></p>

<p>Note: <strong>Đôi lúc 1 số service của bạn bị hang lúc boot và server không thể khởi động lên được ( eg: redis) bạn có thể dùng cách này để vào disable auto start của service đó đi</strong></p>

<p>-Rd
Nhan</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-08-12T12:07:45+07:00" pubdate data-updated="true">Aug 12<span>th</span>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/boot/'>boot,</a>, <a class='category' href='/blog/categories/grub-sysadmin/'>grub,sysadmin</a>, <a class='category' href='/blog/categories/linux/'>linux</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/04/19/lay-thong-tin-phan-cung-voi-dmidecode/">
		
			Lấy thông tin phần cứng với dmidecode</a>
	</h2>
	<div class="entry-content">
		<p>Lệnh <strong>dmidecode</strong> đọc bảng DMI hệ thống (SMBIOS) và hiển thị thông tin về phần cứng và BIOS của máy chủ. Bảng DMI lưu rất nhiều thông tin hữu ích của hệ thống như cấu hình của từng thiết bị, số serial, hoặc cấu hình tối đa mà máy chủ có thể hỗ trợ (dung lượng RAM tối đa chẳng hạn).</p>

<p>Tham số hay được sử dụng nhất của <code>dmidecode</code> là <code>--type TYPE</code>, với <code>TYPE</code> là ID của một kiểu DMI cụ thể, hoặc là một trong các từ khoá sau: <code>bios,  system,  baseboard,  chassis,  processor,  memory,  cache,  connector,  slot.</code></p>

<p>Danh sách đầy đủ của các kiểu DMI:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>   Type   Information
</span><span class='line'>   --------------------------------------------
</span><span class='line'>      0   BIOS
</span><span class='line'>      1   System
</span><span class='line'>      2   Baseboard
</span><span class='line'>      3   Chassis
</span><span class='line'>      4   Processor
</span><span class='line'>      5   Memory Controller
</span><span class='line'>      6   Memory Module
</span><span class='line'>      7   Cache
</span><span class='line'>      8   Port Connector
</span><span class='line'>      9   System Slots
</span><span class='line'>     10   On Board Devices
</span><span class='line'>     11   OEM Strings
</span><span class='line'>     12   System Configuration Options
</span><span class='line'>     13   BIOS Language
</span><span class='line'>     14   Group Associations
</span><span class='line'>     15   System Event Log
</span><span class='line'>     16   Physical Memory Array
</span><span class='line'>     17   Memory Device
</span><span class='line'>     18   32-bit Memory Error
</span><span class='line'>     19   Memory Array Mapped Address
</span><span class='line'>     20   Memory Device Mapped Address
</span><span class='line'>     21   Built-in Pointing Device
</span><span class='line'>     22   Portable Battery
</span><span class='line'>     23   System Reset
</span><span class='line'>     24   Hardware Security
</span><span class='line'>     25   System Power Controls
</span><span class='line'>     26   Voltage Probe
</span><span class='line'>     27   Cooling Device
</span><span class='line'>     28   Temperature Probe
</span><span class='line'>     29   Electrical Current Probe
</span><span class='line'>     30   Out-of-band Remote Access
</span><span class='line'>     31   Boot Integrity Services
</span><span class='line'>     32   System Boot
</span><span class='line'>     33   64-bit Memory Error
</span><span class='line'>     34   Management Device
</span><span class='line'>     35   Management Device Component
</span><span class='line'>     36   Management Device Threshold Data
</span><span class='line'>     37   Memory Channel
</span><span class='line'>     38   IPMI Device
</span><span class='line'>     39   Power Supply
</span><span class='line'>     40   Additional Information
</span><span class='line'>     41   Onboard Devices Extended Information
</span><span class='line'>     42   Management Controller Host Interface</span></code></pre></td></tr></table></div></figure>


<p>Mỗi từ khoá dùng với tham số <code>--type</code> tương ứng với một hoặc nhiều kiểu DMI:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>   Keyword     Types
</span><span class='line'>   ------------------------------
</span><span class='line'>   bios        0, 13
</span><span class='line'>   system      1, 12, 15, 23, 32
</span><span class='line'>   baseboard   2, 10, 41
</span><span class='line'>   chassis     3
</span><span class='line'>   processor   4
</span><span class='line'>   memory      5, 6, 16, 17
</span><span class='line'>   cache       7
</span><span class='line'>   connector   8
</span><span class='line'>   slot        9</span></code></pre></td></tr></table></div></figure>


<p>Ví dụ, để xem thông tin về chassis, có thể dùng lệnh:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>dmidecode --type chassis
</span></code></pre></td></tr></table></div></figure>


<p>hoặc:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>dmidecode --type 3
</span></code></pre></td></tr></table></div></figure>


<p>Output sẽ có dạng:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># dmidecode 2.12
</span><span class='line'>SMBIOS 2.7 present.
</span><span class='line'>
</span><span class='line'>Handle 0x0300, DMI type 3, 21 bytes
</span><span class='line'>Chassis Information
</span><span class='line'>  Manufacturer: HP
</span><span class='line'>  Type: Rack Mount Chassis
</span><span class='line'>  Lock: Not Present
</span><span class='line'>  Version: Not Specified
</span><span class='line'>  Serial Number: SGH3519Y51
</span><span class='line'>  Asset Tag:
</span><span class='line'>  Boot-up State: Safe
</span><span class='line'>  Power Supply State: Safe
</span><span class='line'>  Thermal State: Safe
</span><span class='line'>  Security Status: Unknown
</span><span class='line'>  OEM Information: 0x00000000
</span><span class='line'>  Height: 1 U
</span><span class='line'>  Number Of Power Cords: 2
</span><span class='line'>  Contained Elements: 0</span></code></pre></td></tr></table></div></figure>


<p>Với DMI type 16, ta có thể lấy thông tin về Physical memory array, với số khe cắm RAM và dung lượng tối đa mà hệ thống hỗ trợ:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># dmidecode -t 16
</span><span class='line'># dmidecode 2.12
</span><span class='line'>SMBIOS 2.7 present.
</span><span class='line'>
</span><span class='line'>Handle 0x1000, DMI type 16, 23 bytes
</span><span class='line'>Physical Memory Array
</span><span class='line'>  Location: System Board Or Motherboard
</span><span class='line'>  Use: System Memory
</span><span class='line'>  Error Correction Type: Single-bit ECC
</span><span class='line'>  Maximum Capacity: 384 GB
</span><span class='line'>  Error Information Handle: Not Provided
</span><span class='line'>  Number Of Devices: 12
</span><span class='line'>
</span><span class='line'>Handle 0x1001, DMI type 16, 23 bytes
</span><span class='line'>Physical Memory Array
</span><span class='line'>  Location: System Board Or Motherboard
</span><span class='line'>  Use: System Memory
</span><span class='line'>  Error Correction Type: Single-bit ECC
</span><span class='line'>  Maximum Capacity: 384 GB
</span><span class='line'>  Error Information Handle: Not Provided
</span><span class='line'>  Number Of Devices: 12</span></code></pre></td></tr></table></div></figure>


<p>Như vậy, dung lượng bộ nhớ tối đa mà hệ thống có thể hỗ trợ là 384GB, với 12 khe cắm RAM, mỗi khe cắm một thanh RAM 32GB.</p>

<p>Tương tự, các bạn có thể thử với các type khác để lấy các kết quả mình cần. Nếu cần giúp đỡ, chúng ta có thể dùng <code>man dmidecode</code>, dĩ nhiên.</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-04-19T22:28:02+07:00" pubdate data-updated="true">Apr 19<span>th</span>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/hardware/'>hardware</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/01/07/tong-hop-mot-so-cau-lenh-check-file-config-cua-cac-services/">
		
			Tổng hợp một số câu lệnh check file config của các services</a>
	</h2>
	<div class="entry-content">
		<p><img src="http://i1017.photobucket.com/albums/af300/nhanct/Screenshotfrom2014-01-07141758_zpsb4ead1c2.png" alt="Alt text" /></p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-01-07T14:22:05+07:00" pubdate data-updated="true">Jan 7<span>th</span>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/syntax/'>syntax</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/01/06/how-to-clone-ldap-database/">
		
			How to clone LDAP Database</a>
	</h2>
	<div class="entry-content">
		<p>With root, run command to Export your DB with slapcat:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>slapcat &gt; ldif </span></code></pre></td></tr></table></div></figure>


<p>Import the DB with slapadd (make sure the LDAP server is stopped):</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>slapadd -l ldif</span></code></pre></td></tr></table></div></figure>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-01-06T09:45:45+07:00" pubdate data-updated="true">Jan 6<span>th</span>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/ldap/'>ldap</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/01/06/count-ip-addresses-in-access-log/">
		
			Count IP Addresses in Access Log </a>
	</h2>
	<div class="entry-content">
		<p><strong>$</strong>echo &ldquo;most frequent IPs in last 10000 lines in log&rdquo;</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo tail -10000 /var/log/nginx/lazyadmin.me.log | awk ‘{print $1}’ | sort | uniq -c | sort -g
</span></code></pre></td></tr></table></div></figure>




		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-01-06T09:31:05+07:00" pubdate data-updated="true">Jan 6<span>th</span>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/english/'>English</a>, <a class='category' href='/blog/categories/log/'>log</a>, <a class='category' href='/blog/categories/shell/'>shell</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2014/01/01/bai-viet-dau-tien-voi-octopress/">
		
			Bài viết đầu tiên với Octopress Blog</a>
	</h2>
	<div class="entry-content">
		<p>Quyết định chuyển nhà qua <a href="http://octopress.org/" title="Octopress">Octopress</a> + <a href="http://pages.github.com/">Github pages</a>. <code>Octopress</code> xứng đáng được gọi là <em>blogging framework for harkers</em>, nhanh, tiện, thú vị. <code>Octopress</code> là framework dựa trên nền Jekyll, một trình tạo các trang nội dung tĩnh, rất phù hợp để làm blog. Với <code>Octopress</code>, chúng ta không cần database, không cần một webserver có hỗ trợ PHP, chỉ cần 1 server support file tĩnh là quá đủ. Trên máy cá nhân, viết blog bằng Markdown, vừa nhanh vừa tiện, sau đó, Octopress sẽ giúp chúng ta sinh ra các file HTML, CSS cần thiết, và có thể giúp ta deploy luôn lên Github, nếu hosting bằng <code>Github pages</code>. Miễn phí, nguồn mở, file tĩnh nên nhanh, tuỳ biến cao, lại hỗ trợ plugin, rất đáng để thử.</p>

<p>Chúng tôi đã gặp một chút khó khăn khi import bài viết từ Blogger qua, nhưng đã giải quyết ổn, và giờ thì chăm chỉ viết bài thôi ;). Nội dung của blog này từ nay, sẽ bao gồm tất cả những gì liên quan đến công việc của một Linux system administrator, và sẽ được nhiều người cùng đóng góp.</p>

<p>Cuối cùng:</p>

<h3>Chúc mừng năm mới 2014.</h3>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2014-01-01T00:30:08+07:00" pubdate data-updated="true">Jan 1<span>st</span>, 2014</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/octopress/'>octopress</a>, <a class='category' href='/blog/categories/vietnamese/'>vietnamese,</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2012/10/17/ngan-ngua-quit-nham-chrome-tren-mac/">
		
			Ngăn ngừa quit nhầm Chrome trên Mac</a>
	</h2>
	<div class="entry-content">
		<div class='post'>
Từ lúc mình dùng Mac đến giờ, nhầm lẫn giữa <b>⌘Q</b> và <b>⌘W</b> là một trong những điều gây bực mình nhất: Thi thoảng muốn đóng một tab bằng tổ hợp <b>⌘W</b>, nhưng lại bấm nhầm&nbsp;<b>⌘Q</b>, và a lê hấp, cả trình duyệt biến mất.<br /><br />Ấm ức bấy lâu, tình cờ hôm nay phát hiện ra giải pháp vô cùng đơn giản mà bạn Chrome làm hộ mình: Click vào menu Chrome ở thanh menu, chọn <b>&#8220;Warn before quitting&#8221;</b>, dzầy là xong, haha.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-gy1afi49bmM/TfaWLwIDZlI/AAAAAAAAAmk/6po2urmuFjE/s1600/confirmquit.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="289" src="http://3.bp.blogspot.com/-gy1afi49bmM/TfaWLwIDZlI/AAAAAAAAAmk/6po2urmuFjE/s640/confirmquit.png" width="640" /></a></div><br /></div>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-10-17T00:00:00+07:00" pubdate data-updated="true">Oct 17<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/chrome/'>chrome</a>, <a class='category' href='/blog/categories/mac/'>mac</a>, <a class='category' href='/blog/categories/osx/'>osx</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2012/08/30/problem-with-proftpd-134-on-rpmforge/">
		
			Problem with proftpd 1.3.4 on RPMForge repository</a>
	</h2>
	<div class="entry-content">
		<div class='post'>
Hôm nay gặp lỗi với proftpd trên CentOS 6. Xem log secure thì nó báo:<br /><br /><blockquote class="tr_bq"><span style="font-family: Courier New, Courier, monospace;">proftpd: PAM unable to dlopen(/lib64/security/pam_stack.so): /lib64/security/pam_stack.so: cannot open shared object file: No such file or directory</span></blockquote><br />Google một vòng thì ra kết quả là do lỗi của proftpd bản build 1.3.4 trên repository RPMForge. Nếu bạn cũng gặp lỗi tương tự với bản build trên repo này, hãy gỡ ra và cài bản build của epel:<br /><blockquote class="tr_bq"><span style="font-family: Courier New, Courier, monospace;"># yum remove proftpd</span>&nbsp;</blockquote><blockquote class="tr_bq"><span style="font-family: Courier New, Courier, monospace;"># rpm -Uvh <span class="s2"><a href="http://download.fedoraproject.org/pub/epel/6/i386/epel-release-6-7.noarch.rpm">http://download.fedoraproject.org/pub/epel/6/i386/epel-release-6-7.noarch.rpm</a></span></span>&nbsp;</blockquote><blockquote class="tr_bq"><span style="font-family: 'Courier New', Courier, monospace;"># yum install proftpd &#8211;disablerepo=rpmforge</span></blockquote><br /></div>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-08-30T00:00:00+07:00" pubdate data-updated="true">Aug 30<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/epel/'>epel</a>, <a class='category' href='/blog/categories/proftpd/'>proftpd</a>, <a class='category' href='/blog/categories/rpm/'>rpm</a>, <a class='category' href='/blog/categories/rpmforge/'>rpmforge</a>, <a class='category' href='/blog/categories/sysadmin/'>sysadmin</a>, <a class='category' href='/blog/categories/yum/'>yum</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2012/08/07/yum-liet-ke-danh-sach-file-trong-mot-goi/">
		
			Yum - Liệt kê danh sách file trong một gói</a>
	</h2>
	<div class="entry-content">
		<div class='post'>
Để liệt kê nội dung một gói, có thể đã cài hoặc chưa cài, chúng ta sử dụng công cụ <span style="font-family: Courier New, Courier, monospace;">repoquery</span> trong gói <span style="font-family: Courier New, Courier, monospace;">yum-utils</span>. Nếu chưa cài gói này, chạy lệnh sau để cài đặt:&nbsp;<div><pre style="background-color: #eeeeee; border: 0px; font-size: 14px; line-height: 18px; margin-bottom: 10px; max-height: 600px; overflow: auto; padding: 5px; vertical-align: baseline; width: auto;"><span style="font-size: small; line-height: normal; white-space: normal;"><span style="font-family: Courier New, Courier, monospace;"># yum install yum-utils -y</span></span></pre></div><div><br /></div><div>Lệnh <span style="font-family: Courier New, Courier, monospace;">repoquery</span> có 2 option hữu ích:</div><div><pre style="background-color: #eeeeee; border: 0px; font-size: 14px; line-height: 18px; margin-bottom: 10px; max-height: 600px; overflow: auto; padding: 5px; vertical-align: baseline; width: auto;"><code style="border: 0px; margin: 0px; padding: 0px; vertical-align: baseline;"><span style="font-family: Courier New, Courier, monospace;">  -l, --list            list files in this package/group<br />  -q, --query           no-op for rpmquery compatibility</span></code></pre></div><div><br /></div><div>Chạy lệnh <span style="font-family: Courier New, Courier, monospace;">repoquery</span> với 2 option trên cùng với tên gói để liệt kê danh sách các file có trong gói:</div><div><div><pre style="background-color: #eeeeee; border: 0px; font-size: 14px; line-height: 18px; margin-bottom: 10px; max-height: 600px; overflow: auto; padding: 5px; vertical-align: baseline; width: auto;">$ repoquery -ql mlocate<br />/etc/cron.daily/mlocate.cron<br />/etc/updatedb.conf<br />/usr/bin/locate<br />/usr/bin/updatedb<br />/usr/share/doc/mlocate-0.22.2<br />/usr/share/doc/mlocate-0.22.2/AUTHORS<br />/usr/share/doc/mlocate-0.22.2/COPYING<br />...</pre></div><div><br /></div></div></div>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-08-07T00:00:00+07:00" pubdate data-updated="true">Aug 7<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/linux/'>linux</a>, <a class='category' href='/blog/categories/quan-tri-he-thong/'>quản trị hệ thống</a>, <a class='category' href='/blog/categories/repoquery/'>repoquery</a>, <a class='category' href='/blog/categories/rpm/'>rpm</a>, <a class='category' href='/blog/categories/sysadmin/'>sysadmin</a>, <a class='category' href='/blog/categories/yum/'>yum</a>


</div>
	
</div>
</article>

<nav id="pagenavi">
    
    
        <a href="/blog/page/2/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner">Copyright &copy; 2014

    Thang Pham

</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'justalazyadmin';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//go.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





</body>
</html>